<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Introduction to Scala</title>

    <meta name="description" content="Introduction to Scala">
    <meta name="author" content="Jacek Laskowski">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <div class="slides">
        <section class="intro" data-transition="zoom">
          <h1>Introduction to Scala</h1>
          <h4>4,5-hour introduction</h4>
          <br>
          <p>
            <small>Created by <a href="http://blog.jaceklaskowski.pl">Jacek Laskowski</a> / <a href="http://twitter.com/jaceklaskowski">@jaceklaskowski</a></small>
          </p>
        </section>

        <section>
          <h2>Agenda</h2>
          <ul>
            <li><a href="#/why-scala">Why Scala</a></li>
            <li>Installation</li>
            <li>Scala REPL - Interactive development environment</li>
            <li>Syntax</li>
            <li>Project automation with sbt</li>
            <li>Scala API Documentation with scaladoc</li>
            <li>Writing specifications with specs2</li>
            <li>I/O</li>
          </ul>
        </section>

        <section id="why-scala">
          <section data-markdown>
            <script type="text/template">
              # Why Scala
            </script>
          </section>
        </section>
        <section>
          <h2>Why Scala</h2>
          <section data-markdown>
            <script type="text/template">
## JVM language

* Just like Java
  * ...and Clojure, Groovy, Jython
* Compiles to Java bytecode
* A wealth of ready-to-use libraries (and frameworks)
  * there are plenty of them
  * ...and most are open source
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
## A multi-paradigm (blended) programming language

* Encourages functional programming
* Blends flexibility of object-oriented approach
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
<br>
## Functional programming language
#### (1 of 3)

* function is a value
  * `val f: String => Int = _.length`
  * Compare `f` to `5`, `"ala ma kota"`, `-5e4`, `3.141592`
* familiar to most people - taught at Math
  * input and output
  * no side effects
* functions are in fact objects
  * have their own functional type
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
## Functional programming language
#### (2 of 3)

* function is a basic structure to build applications
  * function composition
* immutable/persistent data structures
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
<br>
## Functional programming language
#### (3 of 3)

* [Concise](http://dictionary.cambridge.org/dictionary/british/concise)
  * short and clear, expressing what needs to be said without unnecessary words
  * fewer lines of code = less bugs + less code to maintain
  * Expressive syntax, e.g. implicits
* Easier to write concurrent programms
  * Leads to faster computations
* OO Design Patterns are part of the language itself
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
              ## Builder Pattern (1 of 2)

#### (a side slide perhaps for another courseware)

```
val app = TestApplicant() withNoForenames
val input = TestCsvRow() matching(app) withForenames "Alice"
```

* Think how you'd go about it

```
case class TestApplicant(forenames: Option[String] = Some("Jacek")) {
  def withNoForenames: TestApplicant = copy(forenames = None)
}
```
* Borrowed from the talk [Code Reviews Gems](https://skillsmatter.com/skillscasts/5848-code-reviews-gems)

            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
<br>
## Builder Pattern (2 of 2)

```
package com.example

object BuilderDemo extends Builder(Map()) {
}

private [example] class Builder(val args: Map[String, Any]) {
  val message = arg("m") _
  val title = arg("t") _

  def cmd =
    args.flatMap { case (k,v) => "-" + k :: v.toString :: Nil }.toList.mkString(" ")

  private def arg(k: String)(v: Any) = new Builder(args + (k -> v))
}

object BuilderDemoApp extends App {
  val cmd = BuilderDemo.message("Message").title("Title").cmd
  println("Executing: " + cmd)
}
```

* Borrowed from [softprops/meow](https://github.com/softprops/meow/blob/master/src/main/scala/meow/Growl.scala)

            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
## Object-oriented programming language

* Object-oriented language
  * Every value has a type
  * value == a class/object instance
* Functions in Scala are `val`s, too!
* Use types as soon and extensively as possible
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
## Statically-typed programming language

* Type inference
  * The Scala compiler *infers* the types
* The compiler is the validity check
  * application compiles == ready for production (*almost*)
* "Follow the types"
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
## A strongly-typed programming language

* Everything is an object instance
* Everything has a type
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
## Little to no boilerplate

* Compare it to other languages to see the difference - see Java
* Why to compare to Java? It still is the language of JVM.
* *implicits*
* *package objects*
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
            <br>
## Implicit classes

```scala
scala> case class Hello(name: String)
defined class Hello

scala> Hello("world")
res0: Hello = Hello(world)

scala> res0.hi
<console>:11: error: value hi is not a member of Hello
              res0.hi
                   ^
```

* How would you fix it?

```
scala> implicit class HelloOps(h: Hello) { def hi = "hi" }
defined class HelloOps

scala> res0.hi
res2: String = hi
```
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
              ## Seamless Java Interop
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
## Open source project

* [Open (source) licence](http://www.scala-lang.org/license.html)
* 10 years on the market
* Active community
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
## Tooling

* Build tools - sbt, gradle, maven
* IDE - IntelliJ IDEA, Scala IDE, NetBeans IDE
* Web Frameworks - Play Framework, Spray
* Distributed Toolkits - Akka, Apache Spark
* Testing Libraries - specs2, ScalaTest, ScalaCheck
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
<br>
## Scala REPL

* **R**_ead, **E**_valuate, **P**_rint **L**_oop
* Interactive (development) environment

```
Welcome to Scala version 2.11.6 (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0_40).
Type in expressions to have them evaluated.
Type :help for more information.

scala>
```

* Environment for prototyping
* Experiment with Scala features
* Quickly and easily learn Scala
* Immediate feedback

            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
## Scalable Language

* Scale use of language features as their understanding grows
* Develop scripts
* Develop more complex applications
* Develop concurrent, distributed, resilient, **reactive** systems
* **Reactive** = scalable, resilient, responsive, event-driven
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
              ## Scala REPL 

* Special commands
  * Commands with `:` at the front
* `:help` to get started
* `:quit` to quit
* `:save`
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
            <br>
## Lazy evaluation (1 of 3)

* What's wrong with the `throwExceptionInside` method?

```scala
scala> def throwExceptionInside(e: Exception) = {
     |   println("About to throw the exception e")
     |   throw e
     | }
throwExceptionInside: (e: Exception)Nothing

scala> throwExceptionInside(new NullPointerException())
java.lang.NullPointerException
  ... 43 elided
```

* It doesn't even get executed (!)
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
            <br>
## Lazy evaluation (2 of 3)

* The "old" version

```scala
scala> def throwExceptionInside(e: Exception) = {
     |   println("About to throw the exception e")
     |   throw e
     | }
throwExceptionInside: (e: Exception)Nothing
```

* Compare and note `=>` before the type

```
scala> def throwExceptionInside(e: => Exception) = {
     |   println("About to throw the exception e")
     |   throw e
     | }
throwExceptionInside: (e: => Exception)Nothing
```
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
            <br>
## Lazy evaluation (3 of 3)

```
scala> def throwExceptionInside(e: => Exception) = {
     |   println("About to throw the exception e")
     |   throw e
     | }
throwExceptionInside: (e: => Exception)Nothing
```

* Execution

```
scala> throwExceptionInside(new NullPointerException())
About to throw the exception e
java.lang.NullPointerException
  at $anonfun$1.apply(<console>:12)
  at $anonfun$1.apply(<console>:12)
  at .throwExceptionInside(<console>:12)
  ... 43 elided
```
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
            <br>
## Lazy evaluation for vals

* Note that the initialization is lazily performed and no exception is thrown

```
scala> lazy val hello = throw new Exception("hello")
hello: Nothing = <lazy>

scala> hello
java.lang.Exception: hello
  at .hello$lzycompute(<console>:10)
  at .hello(<console>:10)
  ... 43 elided
```
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
            <br>
## Future[T]

* `Future` is a computation that hasn't happened yet
* `T` is the type of the result

```
scala> import concurrent._
import concurrent._

scala> import ExecutionContext.Implicits.global
import ExecutionContext.Implicits.global

scala> Future {
     |   println("About to read a web page")
     |   io.Source.fromURL("http://blog.jaceklaskowski.pl").mkString.contains("Jacek Laskowski")
     | }
About to read a web page
res19: scala.concurrent.Future[Boolean] = scala.concurrent.impl.Promise$DefaultPromise@4adf2ec1
```
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
## Last value is the return value
            </script>
          </section>
        </section>

        <section>
          <section data-markdown>
            <script type="text/template">
            ## Hello, World!

```
object HelloWorld {
  def main(args: Array[String]) {
    println("Hello, World!")
  }
}
```
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
            ## Hello, World! (2)

```
object HelloWorld {
  def main(args: Array[String]): Unit = {
    println("Hello, World!")
  }
}
```
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
            ## Hello, World! (3)

```
object HelloWorld {
  def main(args: Array[String]) = {
    println("Hello, World!")
    ()
  }
}
```
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
            ## Hello, World! (4)

```
println("Hello, World!")
```
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
            ## Using Scala compiler

* `Hello.scala`
* `scalac Hello.scala`
* `scala Hello`
            </script>
          </section>
        </section>

        <section>
          <section>
            <h2>Values in Scala</h2>

<ul>
<li>Keyword <code>val</code> declares a value of a type</li>
<li><code>val name: Type = expression</code></li>

<pre style="max-width: none; width: 100%"><code class="scala">val name: String = "Jacek"
val n = 5
val sum100 = 1 to 100 sum
</code></pre>

<li>Pattern matching on assignment</li>

<pre style="max-width: none; width: 100%"><code class="scala">val (x, y) = (3, 5)
val x :: xs = List(1, 2, 3, 4)
</code></pre>
</ul>
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
              ## Types in Scala

* **Int** - 32-bit signed integer
* **Long** - 64-bit signed integer
* **Char** - 16-bit unsigned integer for Unicode characters
* **Double** - double-precision floating point number
* **Boolean** - boolean value (`true` or `false`)
* **String** - a string
            </script>
          </section>

          <section data-markdown>
            <script type="text/template">
## Types in Scala

* Values like `10`, `"Aha"`, `flatMap` have type
* Types describe possible values
* *A concrete type* is a type with all type parameters set
  * values can only have types that are concrete
            </script>
          </section>

          <section data-markdown>
            <script type="text/template">
## Kinds in Scala (advanced level)

* types are described by *kinds*
  * *a kind* is the type of a type
* *Type constructors* take concrete types to build another
  * `Option` to build `Option[Int]` with `Int`
  * `Map` to build `Map[String, Int]` out of `String` and `Int`
  * `Function1` to build `Function1[List[String], Long]` out of `List[String]` and `Int`
            </script>
          </section>

          <section data-markdown>
            <script type="text/template">
## Kinds in Scala (advanced level)

```
scala> :help
All commands can be abbreviated, e.g., :he instead of :help.

:kind [-v] <expr>        display the kind of expression's type

scala> :k Option
scala.Option's kind is F[+A]

scala> :k scala.Function1
scala.Function1's kind is F[-A1,+A2]

scala> :k -v Option
scala.Option's kind is F[+A]
* -(+)-> *
This is a type constructor: a 1st-order-kinded type.
```
            </script>
          </section>

          <section data-markdown>
            <script type="text/template">
## Kinds in Scala (advanced level)

* Use `:t` on a value to get the type

      scala> :t Int
      Int.type

* Use `:k` on a type to get the kind

      scala> :k Int
      scala.Int's kind is A

      scala> :k -v Int
      scala.Int's kind is A
      *
      This is a proper type.

* They're similar...in a sense
            </script>
          </section>

          <section data-markdown>
            <script type="text/template">
## Kinds in Scala (advanced level)

* Kinds are "functions" that take type parameters
            </script>
          </section>

          <section data-markdown>
            <script type="text/template">
              ## Tuples in Scala

```
val t = ("Hello", 2)
t._1
t._2
```

* type-safe containers for multiple values
* Useful to return more values from a method
* Each element has its own type
* Up to 22 values
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
              ## Option in Scala

```
val o = Option("hello")
val s = Some("hello")
val n = None
```

* type-safe optional value
* `Option[T]` - abstract class
  * `Some` - concrete value
  * `None` - a single no value
* Example: division by 0
  * `math.sqrt`
* `isEmpty`
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
              ## Enumeration in Scala

```
object StateEnum extends Enumeration {
  type State  = Value

  val IDLE    = Value("Idle")
  val RUNNING = Value("Running")
  val STOPPED = Value("Stopped")
}
```

* Using the Scala compiler to ensure type- and state-safety
  * No other `State` acceptable
  * Alternative to `String` states
* No non-exhaustive match warning, though
            </script>
          </section>
        </section>

        <section>
          <section data-markdown>
            <script type="text/template">
              ## Tools: sbt
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
              ## Tools: Typesafe Activator
            </script>
          </section>
          <section data-markdown>
            <script type="text/template">
              ## Tools: IntelliJ IDEA
            </script>
          </section>
        </section>

        <section>
          <section data-markdown>
            <script type="text/template">
              ## Resources

* [Code Reviews Gems](https://skillsmatter.com/skillscasts/5848-code-reviews-gems) - video from Scala eXchange 2014 by [Richard Dallaway](http://richard.dallaway.com/)
* [Scala: Getting Started](http://www.pluralsight.com/courses/scala-getting-started) - a Scala course from Pluralsight
            </script>
          </section>
        </section>

        <section style="text-align: left;">
          <h1>THE END</h1>
          <p>Questions?</p>
          <h4><a href="https://blog.jaceklaskowski.pl">Jacek Laskowski</a> / <a href="https://twitter.com/jaceklaskowski">@jaceklaskowski</a> / <a href="https://github.com/jaceklaskowski">GitHub</a></h4>
        </section>

      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        width: 1200,
        //height: 875,
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/notes/notes.js', async: true }
        ]
      });

    </script>

  </body>
</html>
